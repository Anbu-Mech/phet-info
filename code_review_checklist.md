For further info and examples on each check item see the PhET Code Review Guidlines https://docs.google.com/document/d/16dnSetfnsQAyJpTWm7xocchlL47NcZ3e3qAaOpQtxds/edit#

**Build and Run Checks**

- [ ] Does the sim pass jshint?

Does the sim build without errors?

Does the sim start up? (requirejs and built versions)

Does the sim experience any assertion failures? (run with query parameter ‘ea’)

Does the sim pass a scenery fuzzer test? (run with query parameter “fuzzMouse”)

Repository structure

Are all required files and directories present?

For a sim repository named “my-repo”, the general structure should look like this (where audio/ or images/ may be omitted if the sim doesn’t have those types of assets).

my-repo/
	assets/
		my-repo-screenshot.png
	audio/
		license.txt
	doc/
		model.md
		implementation-notes.md
	images/
		license.txt
	js/
		my-repo-config.js
		my-repo-main.js
		version.js
	strings/
		my-repo-strings_en.json
	.gitignore
	my-repo_en.html
	Gruntfile.js
	LICENSE
	package.json
	README.md

For a common-code repository, the structure is similar, but some of the files and directories may not be present if the repo doesn’t have audio, images, strings, or a demo application. 

Is the js/ directory properly structured? 

All JavaScript source should be in the js/ directory. There should be a subdirectory for each screen (this also applies for single-screen sims).  For a multi-screen sim, code shared by 2 or more screens should be in a js/common/ subdirectory. Model and view code should be in model/ and view/ subdirectories for each screen and common/.  For example, for a sim with screens “Introduction” and “Custom”, the general directory structure should look like this:

my-repo/js/
	common/
		model/
		view/
custom
		model/
		view/
	introduction
		model/
		view/
my-repo-config.js
	my-repo-main.js
	version.js

Is there a file in assets/ for every file in audio/ and images/?

Are all license.txt files populated? audio/license.txt and images/license.txt should enumerate all files in those directories. For the format of license.txt files, see https://github.com/phetsims/simula-rasa/blob/master/images/README.txt

Was README.md format and content match PhET guidelines? Was it generated by `grunt generate-published-README.md`?

Does Gruntfile.js point to chipper.Gruntfile.js?

Are dependencies in package.json the same as version/*-config.js?  Do they match what is actually used by the sim? (ie, no missing dependencies, no unused dependencies)

Is the version identifier in package.json the same as js/version.js?

Is the LICENSE file correct? (Generally GPL v3 for sims, MIT for common code, but there are exceptions to this.)

Does .gitignore match other repositories?

Does *-main.js follow PhET conventions? Is it well documented? Does it contain correct credits?

Is the format of assets/*-screenshot.png correct? (2048x1344, PNG, 32-bit color) Has the browser chrome been stripped off of the screenshot?

Coding conventions

Is the code formatted according to PhET-style conventions? 

See “Coding Style Guidelines” in “PhET Development Overview”. 
See also phet-idea-code-style.xml for IntelliJ IDEA.

Do all source files use requirejs?

Are all imports and constants grouped at the top of js source files, similar to this? (Order of audio, images, strings and constants may be different. But they should not be interleaved.)

	// modules
	var Shape = requirejs( ‘KITE/Shape’ );

	// audio
	var dingAudio = require( ‘audio!...’ );

  	// images
	var pizzaImage = require( ‘image!...’ );

	// strings
	var titleString = require( ‘string!...’ );

	// constants
	var MAX_PARTICLES = 1000;

For all requirejs imports, does the name of the var match the name of the source file?  

Eg:
	// correct
	var ThermometerNode = require( ‘SCENERY_PHET/ThermometerNode’ );
	// wrong
	var Thermometer = require( ‘SCENERY_PHET/ThermometerNode’ );
 
For source files that use inheritance…

	Is ‘return inherit( SuperType, SubType,...)’ used?
	Are prototype functions added via inherit(...)?
	Are static functions added via inherit(...)?

Are single quotes used for all string literals? (Search for double-quote character, it should appear only in comments.)

Do all variables and fields names of type axon.Property have a ‘Property’ suffix? 

Eg:

	var visibleProperty = new Property( true ); // correct
	var visible = new Property( true ); // wrong

	@param {Property.<number>} temperatureProperty // correct
@param {Property.<number>} temperature // wrong	

Documentation

Are documentation conventions followed, as described in the “Coding Style Guidelines” section of “PhET Development Overview”?

Does model.md adequately describe the model, in terms appropriate for teachers?

Does implementation-notes.md adequately describe the implementation, with an overview that will be useful to future maintainers?

Do all source files have a copyright comment on line 1? 

E.g.: // Copyright 2002-2015, University of Colorado Boulder
Do all source files have documentation at the top, providing an overview of the file, its scope and responsibilities?

Are JSdoc conventions followed?
 
Do all source files have an @author annotation?
Are all non-trivial public functions documented using JSdoc? 
Are function parameters annotated with @param and proper type expressions?
Are return values documented using @returns and proper type expressions?
Are parameters and return values of type axon.Property fully qualified with their value type? E.g. {Property.< number>} 
Is @private used to indicate functions and properties that are not part of the public interface?

Are sim-specific query parameters (if any) identified and documented in one location?

Organization, readability, maintainability

Does the organization and structure of the code make sense? Do the model and view contain types that you would expect (or guess!) by looking at the sim? Do the names of things correspond to the names that you see in the user interface?

Are names (types, variables, properties,...) sufficiently descriptive and specific, avoiding non-standard abbreviations? 

Eg:

	var numPart  // incorrect
	var numberOfParticles  // correct

	var width  // incorrect
	var beakerWidth  // correct

Are appropriate design patterns used?

Is inheritance used where appropriate? Does the type hierarchy make sense?

Is there any unnecessary coupling? (e.g., by passing large objects to constructors, or exposing unnecessary properties)

Are the source files reasonable in size? Scrutinize large files with too many responsibilities - can responsibilities be broken into smaller delegates?

Are any significant chunks of code duplicated?

Is there anything that should be generalized and migrated to common code?

Performance, Usability

Does the sim perform as desired across the range of supported platforms? (eg, not too slow on slow platforms, not too fast on fast platforms) 

If the sim uses WebGL, does it have a fallback? Does the fallback perform reasonably well? (run with query parameter ‘webgl=false’)

Are UI components sufficiently responsive? (especially continuous UI components, such as sliders)

Are point areas optimized, especially for touch? (run with query parameter “showPointerAreas”)

Do pointer areas overlap? (run with query parameter “showPointerAreas”)

Memory Leaks

Does a heap comparison using Chrome Developer Tools indicate a memory leak? (Describing this process is beyond the scope of this document.)

Are there any leaks due to registration of AXON observers? 

For each call to Property.link or PropertySet.link, is there a corresponding unlink, or documentation about why an unlink is unnecessary?
For each DerivedProperty or Multilink created, is there a corresponding detach, or documentation about why a detach is unnecessary?
For each common-code component (sun, scenery-phet, vegas, …) that opaquely registers an AXON observer, is there a call to that component’s dispose function, or documentation about why dispose is unnecessary?

Are there any leaks due to registration of components with TOGETHER? 
(TBD how to evaluate this)

